<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loan Application - D-MONEY</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
* { box-sizing: border-box; }
body {
  font-family: 'Roboto', sans-serif;
  margin: 0;
  padding: 0;
  min-height: 100svh;
  background-image:
    linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.35)),
    url("https://images.pexels.com/photos/3184297/pexels-photo-3184297.jpeg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  overflow-x: hidden;
}

/* ===== HEADER ===== */
.header {
  background: #fff;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding: 15px 20px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  position: sticky;
  top: 0;
  z-index: 100;
}

.header-top {
  display: flex;
  align-items: center;
  gap: 8px;
}

.header-top .d-letter,
.header-top .dash {
  color: #FFD600;
  font-weight: 900;
  font-size: 28px;
}

.header-top .money {
  color: #1c3f6e;
  font-weight: 900;
  font-size: 28px;
}

.header-bottom {
  font-size: 14px;
  color: #1c3f6e;
  font-weight: 500;
  margin-top: 2px;
}

/* ===== CONTAINER ===== */
.container {
  max-width: 420px;
  margin: 20px auto 40px;
  background: rgba(255,255,255,0.9);
  border-radius: 14px;
  padding: 24px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

h2 { margin-bottom: 20px; }

.step { display: none; }
.step.active { display: block; }

input, select {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border-radius: 8px;
  border: 1px solid #ccc;
}

button {
  width: 100%;
  padding: 14px;
  border: none;
  border-radius: 10px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  margin-top: 12px;
  background: #9aa8bd;
  color: #fff;
}

button.active {
  background: #1c3f6e;
}

.error {
  color: #d63031;
  font-size: 14px;
  display: none;
}

.summary {
  background: #f3f4f6;
  padding: 12px;
  border-radius: 8px;
  margin-top: 10px;
  font-size: 14px;
}

.toast {
  background: #1f2937;
  color: #fff;
  padding: 12px;
  border-radius: 10px;
  text-align: center;
  margin-bottom: 20px;
}

.check-circle {
  width: 90px;
  height: 90px;
  background: #10b981;
  border-radius: 50%;
  margin: 0 auto 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 46px;
  color: #fff;
}

.redirect-box {
  margin: 20px 0;
  padding: 14px;
  background: #f3f4f6;
  border-radius: 10px;
  color: #2563eb;
  font-weight: 500;
  text-align: center;
}

.login-btn {
  background: #fff;
  color: #374151;
  border: 1px solid #d1d5db;
}
</style>
</head>

<body>

<div class="header">
  <div class="header-top">
    <span class="d-letter">D</span>
    <span class="dash">-</span>
    <span class="money">MONEY</span>
  </div>
  <div class="header-bottom">Digital Mobile Money</div>
</div>

<div class="container">

<!-- STEP 1 -->
<div class="step active">
  <h2>Get Your Loan Approved Faster.
Apply in minutes and receive instant feedback.</h2>
  <input type="number" id="loanAmount" placeholder="Loan Amount">
  <input type="number" id="loanTerm" placeholder="Loan Term (Months)">
  <p class="error" id="error1">Please fill all required fields.</p>
  <button onclick="nextStep(1)">Apply Now</button>
</div>

<!-- STEP 2 -->
<div class="step">
  <h2>Loan Details</h2>
  <select id="loanType">
    <option value="">Select Loan Type</option>
    <option value="personal">Personal</option>
    <option value="business">Business</option>
  </select>
  <input type="number" id="loanAmount2" placeholder="Loan Amount">
  <input type="number" id="loanTerm2" placeholder="Loan Term (Months)">
  <input type="text" id="loanPurpose" placeholder="Loan Purpose">
  <p class="error" id="error2">Complete all loan details.</p>
  <button onclick="prevStep()">Previous</button>
  <button onclick="nextStep(2)">Proceed</button>
</div>

<!-- STEP 3 -->
<div class="step">
  <h2>Personal Information</h2>
  <input type="text" id="firstName" placeholder="First Name">
  <input type="text" id="lastName" placeholder="Last Name">
  <input type="email" id="email" placeholder="Email Address">
  <input type="tel" id="phone" placeholder="Phone Number">
  <p class="error" id="error3">All fields are required.</p>
  <button onclick="prevStep()">Previous</button>
  <button onclick="nextStep(3)">Proceed</button>
</div>

<!-- STEP 4 -->
<div class="step">
  <h2>Employment Info</h2>
  <select id="employmentStatus">
    <option value="">Employment Status</option>
    <option value="employed">Employed</option>
    <option value="self-employed">Self-Employed</option>
    <option value="unemployed">Unemployed</option>
  </select>
  <input type="number" id="annualIncome" placeholder="Annual Income">
  <div class="summary" id="applicationSummary"></div>
  <p class="error" id="error4">Employment details required.</p>
  <button onclick="prevStep()">Previous</button>
  <button onclick="submitApplication()">Submit</button>
</div>

<!-- STEP 5 SUCCESS -->
<div class="step">
  <div class="toast">üéâApplication submitted successfully!‚úÖÔ∏è</div>
  <div class="check-circle">‚úì</div>
  <h2 style="color:#10b981;">Loan Application Submitted</h2>
  <div class="redirect-box">
    Redirecting to D-MONEY login in <span id="countdown">3</span>s...
  </div>
  <button class="login-btn" onclick="goToDMoney()">Go to Login Now</button>
</div>

</div>

<script>
let currentStep = 1;
const steps = document.querySelectorAll(".step");

function showStep(step){
  steps.forEach((el,i)=>el.classList.toggle("active",i===step-1));
  if(step===4) updateSummary();
  if(step===5) startCountdown();
}

function nextStep(step){
  if(!validateStep(step)) return;
  currentStep++;
  showStep(currentStep);
}

function prevStep(){
  if(currentStep>1){currentStep--; showStep(currentStep);}
}

function validateStep(step){
  const error=document.getElementById("error"+step);
  if(error) error.style.display="none";
  let valid=true;
  if(step===1) valid=loanAmount.value&&loanTerm.value;
  if(step===2) valid=loanType.value&&loanAmount2.value&&loanTerm2.value&&loanPurpose.value;
  if(step===3) valid=firstName.value&&lastName.value&&email.value&&phone.value;
  if(!valid && error) error.style.display="block";
  return valid;
}

function updateSummary(){
  applicationSummary.innerHTML=`
<strong>Loan Type:</strong> ${loanType.value}<br>
<strong>Amount:</strong> ${loanAmount2.value}<br>
<strong>Term:</strong> ${loanTerm2.value} months<br>
<strong>Purpose:</strong> ${loanPurpose.value}<br>
<strong>Name:</strong> ${firstName.value} ${lastName.value}<br>
<strong>Email:</strong> ${email.value}<br>
<strong>Phone:</strong> ${phone.value}<br>
<strong>Employment:</strong> ${employmentStatus.value}<br>
<strong>Income:</strong> ${annualIncome.value}`;
}

function submitApplication(){
  if(!employmentStatus.value||!annualIncome.value){
    error4.style.display="block";
    return;
  }
  currentStep=5;
  showStep(currentStep);
}

function startCountdown(){
  let seconds=3;
  const el=document.getElementById("countdown");
  const timer=setInterval(()=>{
    seconds--;
    el.textContent=seconds;
    if(seconds===0){
      clearInterval(timer);
      goToDMoney();
    }
  },1000);
}

/* LOCAL TRANSITION TO LOGIN PAGE */
function goToDMoney(){
  window.location.href="loginpage.html";
}
</script>

</body>
</html>
